---
title: hexo博客写作流程
date: 2019-08-29 15:54:09
tags: 博客建设
thumbnail: http://magazine.a-n-t.jp/2017/08/blog-hexo-1/cover.png
categories: log
---
这篇文章的目的是为本博客的博文作者提供指导，介绍需要准备的工具、写作流程和发布方法。查看 [Hexo 文档](https://hexo.io/docs/index.html) 了解关于博客框架的详细内容。

## 依赖

1. 博文作者

- **nodejs** - Hexo 基础
- **npm** - Node.js 包管理器
- **hexo-cli** - Hexo 博客框架
- **git** - 版本控制系统

<!-- more -->

2. 服务器

- **git** - 版本控制系统
- **nginx** - Web服务器

## 准备工作

Hexo 是静态博客框架，因此每个页面在读者访问之前就已经被渲染完成，大部分的工作都落在博文作者处。Hexo 依赖 Node.js 运行时环境工作，请访问 [nodejs.org](https://nodejs.org) 或使用包管理器获取 Node.js，同时安装其包管理器 npm。随后即可使用 npm 安装 Hexo，建议设置为全局安装：

```shell
$ npm install -g hexo-cli
```

想起来了就升级一下所有包，获取安全和功能更新：

```shell
$ npm update -g
```

为方便部署，我们使用 git 执行版本控制，访问 [git-scm](https://git-scm.com/downloads) 或使用包管理器安装 git。博客的配置和源文件仓库都保存在服务器上，要同步不同作者的更改或从新环境开始，可 merge 或 clone 博客仓库以得到工作区。

Hexo 使用 Markdown 创作博文，因此建议使用带有 Markdowm 预览的编辑器。准备工作结束之后，就能开始愉快地写作了。

## 流程

1. 新建页面

   ``` shell
   $ hexo new [layout] [option] <title>
   ```

    在制定布局的基础上新建文章，可用选项有
    |      Option       |  Description   |
    | :---------------: | :------------: |
    |  `-p`, `--path`   | 自定义文章路径  |
    | `-r`, `--replace` |  覆盖指定博文   |
    |  `-s`, `--slug`   | 自定义文章URL   |

1. 写博文

   使用 Markdown 撰写文章，但不限于 Markdown 的语法。可以使用 HTML 元素实现更灵活的布局，同时通过 Hexo 插件得到例如资源文件夹管理等更强大的功能。

    博客写作的高级功能包括：

    - MathJax 数学公式支持  
        使用 `$ LaTex $` 插入行内公式，`$$ LaTex $$` 插入行间公式。
    - 资源文件夹管理  
        资源文件夹管理是成为正式组件的社区插件之一，在需要插入图片的地方使用一下格式引用资源文件夹

        ```Embedded JavaScript
        {% asset_img 文件名 文件描述 %}
        ```
    - 插入页面目录  
        在 Front-matter 中指定

        ```yaml
        toc: true
        ```

        Hexo 将在指定位置渲染页面目录，方便长文章的浏览。

2. 发布

    写作完成后，使用以下命令发布到服务器：

   ``` shell
   $ hexo g -d
   ```

    这会让 Hexo 渲染所有页面，并使用 git 将网页文件推送至远程的 publish 分支。在服务器上，git hooks 会在接收推送后自动将其复制到 nginx 的根目录，可以立即在博客上查看更改。

    注意直接部署并不会推送博客配置文件以及文章源文件，要备份整个工作区，请手动推送 master 分支到服务器，这个过程与部署过程相独立。